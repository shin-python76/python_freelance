# scraping_01_get_html.py
import requests

# これは 「WebページにアクセスしてHTMLを取得する」 ためのライブラリ。
# ブラウザでURLを開くのと同じことを、Pythonから自動で行えます。

# 練習用サイト（安全にスクレイピング練習できる）
url = "https://books.toscrape.com/"

# 取得したいページのURLを変数 url に代入しています。
# このサイト（Books to Scrape）は「スクレイピング学習専用サイト」で、
# 法的にも安全に練習できます（＝禁止されていません）。

# HTML取得
response = requests.get(url)

# requests.get() 関数で、指定URLのサーバーにHTTPリクエストを送信。
# サーバーから返ってきた結果（＝レスポンス）を response というオブジェクトに格納します。
# 💡 ここで取得しているのは、ブラウザが裏で受け取っているHTMLそのもの。

# 📦 response は次のような情報を持っています：

# 属性	意味
# response.status_code	通信結果（200＝成功、404＝ページなし）
# response.text	ページの中身（HTMLテキスト）
# response.content	バイナリ形式（画像などを扱うとき）

# ステータスコード確認（200なら成功）
print("Status Code:", response.status_code)

# Web通信が成功したかを確認します。
# ステータスコード200 → 成功
# もし 404 や 500 なら、ページが存在しないか、サーバーエラーです。

# コード	意味
# 200	成功（OK）
# 301 / 302	リダイレクト（別URLに転送）
# 403	アクセス拒否（禁止）
# 404	ページが見つからない
# 500	サーバー内部エラー

# 💡スクレイピングでは最初に「200」が返っているか必ず確認します。
# そうしないと、データを取ろうとしても NoneType エラーが出る原因になります。

# ページのHTML冒頭500文字を表示
print("\n=== HTML Preview ===")
print(response.text[:500])

# HTML内容のプレビューを表示するための区切り線。
# \n は改行を意味します。

# サイト全体のHTMLを response.text として文字列で取得。
# [:500] は「先頭から500文字だけ表示」するスライス指定です。
# 💡HTML全体を出力すると数万行に及ぶこともあるため、　ここではプレビュー的に一部だけ見るようにしています。
